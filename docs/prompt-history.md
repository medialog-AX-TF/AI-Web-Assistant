# AI 웹 어시스턴트 프롬프트 이력

이 문서는 AI 웹 어시스턴트 개발 과정에서 사용된 프롬프트와 그 결과를 기록합니다.

## 2023-03-15: AI 웹 어시스턴트 툴 정의

### 프롬프트

```
위의 AI 코딩 어시스턴트에 필요한 툴과 같이 AI 웹 어시스턴트가 필요한 툴을 파일로 작성해 주세요 

AI 웹 어시스턴트가 필요한 주요 툴은 사용자가 요청한 기능에 대한 좌측 메뉴들에 대한 검색, 검색한 메뉴에 대한 내용 파악, 검색과 유사한 특정 메뉴 페이지 이동, 이동한 메뉴 페이지에서 적정한 액션 수행 등입니다.
```

### 결과

AI 웹 어시스턴트에 필요한 다음과 같은 툴을 정의하고 구현했습니다:

1. **메뉴 검색 툴 (menu_search)**
   - 웹사이트의 메뉴 항목을 검색하는 기능
   - 사용자가 찾고자 하는 기능이나 페이지와 관련된 메뉴 항목을 찾음
   - 메뉴 텍스트, 경로, 활성 상태 등을 기준으로 관련성 점수 부여

2. **페이지 내용 분석 툴 (page_content_analysis)**
   - 현재 페이지의 내용을 분석하여 중요 정보, 주요 기능, 입력 필드 등을 식별
   - 제목, 폼, 테이블, 버튼, 링크, 이미지 등 다양한 요소 추출
   - 페이지의 주요 내용 텍스트 추출

3. **페이지 이동 툴 (page_navigation)**
   - 특정 메뉴 항목이나 링크로 페이지를 이동
   - 메뉴 ID, 메뉴 이름, URL, 요소 선택자 등 다양한 방식으로 대상 지정
   - 새 탭에서 열기 옵션 지원

4. **요소 하이라이트 툴 (element_highlight)**
   - 특정 UI 요소를 강조 표시하여 사용자의 주의를 끔
   - 다양한 하이라이트 스타일(펄스, 아웃라인, 배경, 줌) 지원
   - 요소와 함께 메시지 표시 가능

5. **액션 수행 툴 (perform_action)**
   - 특정 UI 요소에 대한 액션(클릭, 입력, 선택, 체크/해제, 호버, 포커스, 블러) 수행
   - 요소가 화면에 보이지 않을 경우 스크롤 후 액션 수행
   - 페이지 이동 대기 옵션 지원

6. **작업 자동화 툴 (workflow_automation)**
   - 여러 단계의 작업을 순차적으로 자동 수행
   - 조건부 실행 지원
   - 오류 발생 시 중단 옵션

7. **스크린샷 캡처 툴 (screenshot)**
   - 현재 페이지나 특정 요소의 스크린샷을 캡처
   - 다양한 이미지 형식 지원
   - 하이라이트나 주석 포함 옵션

8. **웹사이트 상태 모니터링 툴 (state_monitoring)**
   - 웹사이트의 상태 변화(DOM 변경, URL 변경, 폼 상태 등)를 모니터링
   - 특정 요소의 변화 감지
   - 모니터링 지속 시간 설정

9. **사용자 가이드 툴 (user_guide)**
   - 특정 작업에 대한 단계별 사용자 가이드를 생성하고 표시
   - 관련 요소 하이라이트
   - 진행 상태 표시

각 툴은 TypeScript로 구현되었으며, 웹사이트와의 상호작용을 위한 다양한 기능을 제공합니다. 이 툴들은 AI 웹 어시스턴트가 사용자의 요청에 따라 웹사이트를 탐색하고 작업을 수행하는 데 필요한 핵심 기능을 담당합니다.

## 2024-03-15

### 초기 프로젝트 설정
- **프롬프트**: AI 웹 어시스턴트 POC를 진행하려고 합니다.
- **결과**: 
  - 프로젝트 기본 구조 설정
  - README.md 파일 생성
  - 프롬프트 이력 관리 시스템 구축
- **사용 기술 스택**: Next.js 14, TypeScript, Tailwind CSS, OpenAI API, Vercel AI SDK

### 프로젝트 방향 수정
- **프롬프트**: 아직 개발 프로젝트를 초기화 하지 마세요. 이번 POC의 목표는 어떤 특정한 웹 사이트에 사이드 바 형태로 AI 웹 어시스턴트를 쉽게 추가 할수 있어야 합니다.
- **결과**:
  - 프로젝트 목표 재정의: 웹 컴포넌트 기반 통합형 AI 어시스턴트
  - 기술 스택 변경: Web Components, Shadow DOM, Custom Elements 중심
  - 요구사항 문서 업데이트: 통합 용이성, 호환성, CDN 배포 등 추가
- **주요 변경사항**:
  - 단일 스크립트 통합 방식 채택
  - 사이드바 UI 컴포넌트 설계
  - 스타일 격리 및 커스터마이징 지원

### 요구사항 상세화
- **프롬프트**: 요구사항과 리드미 파일까지만 계속 업데이트하면서 최종 확정되면 프로젝트 초기화를 진행하세요.
- **결과**:
  - README.md 상세화
    - 개발 환경 설정 가이드 추가
    - 상세한 디렉토리 구조 정의
    - 기여 가이드라인 추가
    - 통합 예시 구체화
  - 요구사항 문서 확장
    - 세부 기능 요구사항 구체화
    - 다국어 지원 요구사항 추가
    - 테스트 요구사항 추가
    - 보안 요구사항 강화
- **주요 추가사항**:
  - 웹 컴포넌트 기술 스택 구체화 (Lit 도입)
  - 다국어 지원 및 i18n 시스템
  - 테스트 전략 수립
  - 보안 및 성능 최적화 전략

### 요구사항 상세화 - DOM 및 인터랙션
- **프롬프트**: 요구사항을 더 구체화하여 DOM 조작과 사용자 인터랙션 가이드 시스템을 상세화했습니다.
- **결과**:
  - DOM 관찰 및 조작 상세화
    - MutationObserver 활용 방안 구체화
    - 이벤트 위임 시스템 상세 정의
    - 가상 DOM 동기화 전략 수립
    - 요소 조작 안전성 강화
  - 사용자 액션 가이드 시스템 구체화
    - 작업 단계 시각화 방안
    - 다중 요소 하이라이팅 기능
    - 실시간 피드백 시스템
    - 오류 상황 대처 프로세스
- **주요 추가사항**:
  - DOM 변경 감지 및 필터링 시스템
  - 성능 최적화된 이벤트 처리
  - 단계별 작업 진행 상태 표시
  - 사용자 액션 검증 및 피드백

### 다중 LLM 지원 추가
- **프롬프트**: LLM은 GPT와 엔트로픽, Exaone을 사용할 것이고 적정한 환경 파일로 관리할 수 있도록 하세요.
- **결과**:
  - 다중 LLM 지원 구조 설계
    - OpenAI GPT-4
    - Anthropic Claude
    - EXA-1
  - 환경 변수 설정 구조화
    - LLM별 API 키 및 설정 관리
    - 환경별 설정 분리
  - 기능 추가
    - LLM 자동 전환 및 폴백
    - 로드 밸런싱
    - 비용 최적화
- **주요 추가사항**:
  - LLM 통합 아키텍처 설계
  - API 키 보안 관리 체계
  - 모델 파라미터 최적화
  - 사용량 모니터링 시스템

### 웹사이트 통합 및 인터랙션 강화
- **프롬프트**: 가장 중요한 요구 사항 중 하나는 기존 웹사이트의 수정을 최소화하면서 AI 웹 어시스턴트를 사이드바에 추가하는 것이고 기존 웹 사이트에서 사용자에게 복잡한 기능을 프롬프트로 입력받아 인터랙티브하게 사용자의 웹 액션들에 대한 도움을 주는 것입니다.
- **결과**:
  - 웹사이트 통합 방식 개선
    - 최소 침습적 통합 방식 도입
    - DOM 관찰 및 조작 기능 추가
    - 성능 영향 최소화 전략
  - 인터랙티브 지원 기능 강화
    - 사용자 액션 가이드 시스템
    - 컨텍스트 기반 도움말
    - 작업 자동화 지원
  - 설정 및 API 확장
    - 웹사이트 통합 설정 추가
    - 인터랙션 관련 이벤트 훅 추가
    - 자동화 API 정의
- **주요 추가사항**:
  - DOM 이벤트 처리 시스템
  - 사용자 액션 시퀀스 관리
  - 요소 하이라이팅 기능
  - 자동화 매크로 시스템 